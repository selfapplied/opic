;;; capabilities.ops â€” Capability tests for Field Spec 0.7

;; Capability tests: verify voices exist (following opic's test pattern)

;; Test: Pascal operations available
voice test.capability.pascal / "Can opic use Pascal mod 10?"
voice test.capability.pascal.check / {"pascal.add" + "pascal.mul" + "pascal.combination" -> pascal_works}

;; Test: Trigonometric operators available
voice test.capability.trig / "Can opic use trigonometric operators?"
voice test.capability.trig.check / {"trig.cos_theta" + "trig.sin_theta" + "trig.tan_theta" -> trig_works}

;; Test: Flow symmetry available
voice test.capability.flow / "Can opic use flow symmetry?"
voice test.capability.flow.check / {"flow.hermitian_flow" + "flow.equilibrium" -> flow_works}

;; Test: Cycle-to-dimension available
voice test.capability.cycle / "Can opic use cycle-to-dimension?"
voice test.capability.cycle.check / {"cycle.promote_to_operator" + "cycle.learning_threshold" + "cycle.compute_phase" -> cycle_works}

;; Test: NLP cycles available
voice test.capability.nlp_cycles / "Can opic use NLP cycles?"
voice test.capability.nlp_cycles.check / {"nlp.masked_cycle" + "nlp.attention_cycle" + "nlp.hermitian_attention" -> nlp_cycles_work}

;; Test: Dimensional expansion available
voice test.capability.dimension / "Can opic use dimensional expansion?"
voice test.capability.dimension.check / {"dimension.symmetry_break" + "dimension.witness_event" -> dimension_works}

;; Test: Field Spec 0.7 fully loaded
voice test.capability.field_spec / "Is Field Spec 0.7 fully loaded?"
voice test.capability.field_spec.check / {"pascal.add" + "trig.tan_theta" + "cycle.promote_to_operator" + "nlp.masked_cycle" -> field_spec_loaded}

;; Capability test suite
voice test.capabilities.field_spec / {
  test.capability.pascal -> 
  test.capability.trig -> 
  test.capability.flow -> 
  test.capability.cycle -> 
  test.capability.nlp_cycles -> 
  test.capability.dimension -> 
  test.capability.field_spec
}

target capabilities / "field_spec_capability_tests"
voice main / {test.capabilities.field_spec -> capabilities}

