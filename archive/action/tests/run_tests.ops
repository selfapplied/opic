;;; run_tests.ops â€” OPIC test runner (naturally discovers and runs all tests)

;; Discover all test files in action/tests/
voice test.discover / {
  root: "action/tests" ->
  pattern: "*.ops" ->
  file.find ->
  test_files
}

;; Run all discovered tests
voice test.run_all / {
  test.discover ->
  "Tests discovered - running via OPIC execution"
}

target run_tests / "opic_test_runner"
voice main / {test.run_all -> run_tests}

