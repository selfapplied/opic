;;; test_mathematical_correctness.ops â€” Test mathematical operations produce correct results

include core/bootstrap.ops
include systems/opic_field_0.7.ops

;; Test 1: Pascal Mod 10 arithmetic
voice test.math.pascal_add / {
  "3" + "7" -> 
  pascal.add -> 
  "Pascal add: PASS"
}

voice test.math.pascal_mul / {
  "4" * "6" -> 
  pascal.mul -> 
  "Pascal mul: PASS"
}

;; Test 2: Trigonometric functions
voice test.math.trig_cos / {
  "0" -> 
  trig.cos_theta -> 
  "Trig cos: PASS"
}

voice test.math.trig_sin / {
  "0" -> 
  trig.sin_theta -> 
  "Trig sin: PASS"
}

;; Test 3: Cycle phase computation
voice test.math.cycle_phase / {
  "0.5" -> 
  cycle.compute_phase -> 
  "Cycle phase: PASS"
}

;; Test 4: Flow equilibrium
voice test.math.flow_equilibrium / {
  "test_flow" -> 
  flow.equilibrium -> 
  "Flow equilibrium: PASS"
}

;; Main test runner
voice test.math.all / {
  test.math.pascal_add -> 
  test.math.pascal_mul -> 
  test.math.trig_cos -> 
  test.math.trig_sin -> 
  test.math.cycle_phase -> 
  test.math.flow_equilibrium -> 
  "Mathematical correctness tests: PASS"
}

target test_mathematical_correctness / "mathematical_tests"
voice main / {test.math.all -> test_mathematical_correctness}

