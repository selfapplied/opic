;;; conversation.ops â€” opic interactive conversation with live training

;; Conversation loop
voice conversation.loop / {listen -> understand -> respond -> train -> save -> witness -> conversation.loop}
voice conversation.start / {greet -> conversation.loop}

;; Voice input
voice listen / {microphone -> audio_input -> transcribe -> text}
voice understand / {text -> context -> meaning}

;; Voice output
voice respond / {meaning -> generate_field -> text -> speak}
voice speak / {text -> audio_output}

;; Live training
voice train.live / {user_input + opic_response -> training_pair -> update_model}
voice train.update_model / {training_pair + current_model -> updated_model}

;; Save and record
voice save.conversation / {conversation_history -> save_json}
voice record.interaction / {user_input + opic_response -> conversation_log}

;; Witness (observe)
voice witness.conversation / {conversation_state -> display_state}
voice witness.training / {training_update -> display_update}
voice witness.field / {field_state -> display_field}

;; Main conversation
target conversation / "opic_conversation"
voice main / {conversation.start -> conversation}

