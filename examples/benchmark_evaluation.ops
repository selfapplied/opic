;;; benchmark_evaluation.ops â€” opic evaluates itself on standard benchmarks

include systems/reasoning.ops
include systems/math.ops
include systems/benchmark.ops

;; Benchmark evaluation using opic's own capabilities
voice benchmark.evaluate_mmlu / {
  mmlu_questions -> 
  reason.answer -> 
  evaluate.question -> 
  aggregate_scores -> 
  mmlu_score
}

voice benchmark.evaluate_gpqa / {
  gpqa_questions -> 
  knowledge.retrieve -> 
  reason.reason -> 
  evaluate.question -> 
  aggregate_scores -> 
  gpqa_score
}

voice benchmark.evaluate_humanity / {
  humanity_questions -> 
  reason.toward_goal -> 
  reason.plan -> 
  reason.verify -> 
  evaluate.question -> 
  aggregate_scores -> 
  humanity_score
}

voice benchmark.evaluate_aime / {
  aime_problems -> 
  math.parse -> 
  math.reason -> 
  math.compute -> 
  evaluate.question -> 
  aggregate_scores -> 
  aime_score
}

;; Main benchmark runner
voice benchmark.run_all / {
  benchmark.evaluate_mmlu -> 
  benchmark.evaluate_gpqa -> 
  benchmark.evaluate_humanity -> 
  benchmark.evaluate_aime -> 
  benchmark_results
}

target benchmark_evaluation / "opic_benchmark_results"
voice main / {benchmark.run_all -> benchmark_evaluation}

